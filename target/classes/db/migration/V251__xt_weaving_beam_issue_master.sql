
INSERT INTO am_properties_master (company_id,properties_master_name,is_active,is_delete,created_by,created_on,modified_by,modified_on,deleted_by,deleted_on,remark) VALUES
	 (1,'LoomProcessType',0,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL),
	 (1,'LoomMachineNo',0,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL);


INSERT INTO am_properties (property_master_id,properties_master_name,company_id,property_name,property_value,is_active,is_delete,created_by,created_on,modified_by,modified_on,deleted_by,deleted_on,property_group,remark) VALUES
	 (192,'LoomProcessType',2,'KNOTTING','KN',1,0,'6260537025','2025-01-06 11:32:23.000',NULL,'2025-01-06 11:32:23.000',NULL,NULL,'',''),
	 (192,'LoomProcessType',2,'GAITING','GT',1,0,'6260537025','2025-01-06 11:32:23.000',NULL,'2025-01-06 11:32:23.000',NULL,NULL,'','');


INSERT INTO am_properties (property_master_id, properties_master_name, company_id, property_name, property_value, is_active, is_delete, created_by, created_on, modified_by, modified_on, deleted_by, deleted_on, property_group, remark)
VALUES
(193, 'LoomMachineNo', 2, '1', '1', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '2', '2', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '3', '3', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '4', '4', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '5', '5', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '6', '6', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '7', '7', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '8', '8', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '9', '9', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '10', '10', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '11', '11', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '12', '12', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '13', '13', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '14', '14', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '15', '15', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '16', '16', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '17', '17', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '18', '18', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '19', '19', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '20', '20', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '21', '21', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '22', '22', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '23', '23', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '24', '24', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '25', '25', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '26', '26', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '27', '27', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '28', '28', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '29', '29', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '30', '30', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '31', '31', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '32', '32', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '33', '33', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '34', '34', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '35', '35', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '36', '36', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '37', '37', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '38', '38', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '39', '39', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '40', '40', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '41', '41', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '42', '42', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '43', '43', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '44', '44', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '45', '45', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '46', '46', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '47', '47', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', ''),
(193, 'LoomMachineNo', 2, '48', '48', 1, 0, '6260537025', '2025-01-06 11:43:07.000', NULL, '2025-01-06 11:43:07.000', NULL, NULL, 'Available', '');



CREATE TABLE `xt_weaving_beam_issue_master` (
  `weaving_beam_issue_master_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `company_id` bigint(20) NOT NULL DEFAULT 1,
  `company_branch_id` bigint(20) NOT NULL DEFAULT 1,
  `financial_year` varchar(20) NOT NULL,
  `beam_issue_no` varchar(50) DEFAULT NULL,
  `set_no` varchar(256) DEFAULT NULL,
  `beam_no` bigint(20) NOT NULL,
  `loom_no` bigint(20) NOT NULL,
  `beam_issue_date` date DEFAULT NULL,
  `shift_name` varchar(250) NOT NULL,
  `beam_issue_time` varchar(50) DEFAULT NULL,
  `loom_process_type` varchar(250) NOT NULL,
  `loom_process_charge` varchar(250) NOT NULL,
  `sort_no` varchar(100) DEFAULT NULL,
  `count` varchar(250) NOT NULL,
  `t_ends` decimal(18,4) DEFAULT 0.0000,
  `reed` decimal(18,4) DEFAULT 0.0000,
  `pick` decimal(18,4) DEFAULT 0.0000,
  `rs` decimal(18,4) DEFAULT 0.0000,
  `length` decimal(18,4) NOT NULL,
  `is_active` bit(1) DEFAULT b'1',
  `is_delete` bit(1) DEFAULT b'0',
  `created_by` varchar(255) DEFAULT '1',
  `created_on` datetime DEFAULT NULL,
  `modified_by` varchar(255) DEFAULT NULL,
  `modified_on` datetime DEFAULT NULL,
  `deleted_by` varchar(255) DEFAULT NULL,
  `deleted_on` datetime DEFAULT null,

  PRIMARY KEY (`weaving_beam_issue_master_id`)
) ENGINE=InnoDB AUTO_INCREMENT=38 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- erp_development.xt_weaving_beam_issue_master_rpt source

create or replace
algorithm = UNDEFINED view `xt_weaving_beam_issue_master_rpt` as
select
    concat(ifnull(`v`.`beam_issue_no`, ''), ':Beam Issue No:O:N:') as `beam_issue_no`,
    concat(ifnull(`v`.`set_no`, ''), ':Set No:O:N:') as `set_no`,
    concat(ifnull(`v`.`beam_no`, ''), ':Beam No:O:N:') as `beam_no`,
    concat(ifnull(`v`.`loom_no`, ''), ':Loom No:O:N:') as `loom_no`,
    concat(ifnull(`v`.`loom_process_type`, ''), ':Loom Process Type:O:N:') as `loom_process_type`,
    concat(ifnull(`v`.`loom_process_charge`, ''), ':Loom Process Charge:O:N:') as `loom_process_charge`,
    concat(ifnull(`v`.`shift_name`, ''), ':Shift Name:O:N:') as `shift_name`,
    concat(ifnull(`v`.`beam_issue_date`, ''), ':Beam Issue Date:Y:D:') as `beam_issue_date`,
    concat(ifnull(`v`.`beam_issue_time`, ''), ':Beam Issue Time:Y:D:') as `beam_issue_time`,
    concat(ifnull(`v`.`count`, ''), ':Count:Y:T:') as `count`,
    concat(ifnull(`v`.`sort_no`, ''), ':Sort No:O:N:') as `sort_no`,
    concat(ifnull(`v`.`t_ends`, ''), ':No Of Ends:O:N:') as `t_ends`,
    concat(ifnull(`v`.`reed`, ''), ':Reed:O:N:') as `reed`,
    concat(ifnull(`v`.`pick`, ''), ':Pick:O:N:') as `pick`,
    concat(ifnull(`v`.`rs`, ''), ':RS:O:N:') as `rs`,
    concat(ifnull(`v`.`length`, ''), ':Length:O:N:') as `length`,
    concat(ifnull(`v`.`financial_year`, ''), ':Finance Year:O:N:amv_financial_year:F') as `financial_year`,
    concat(case when `v`.`is_active` = 1 then 'Active' else 'In Active' end, ':Active Status:Y:H:(Active, In Active)') as `Active`,
    concat(case when `v`.`is_delete` = 1 then 'Yes' else 'No' end, ':Deleted Status:Y:H:(Yes, No)') as `Deleted`,
    concat(ifnull(`v`.`created_by`, ''), ':Created By:O:N:') as `created_by`,
    concat(ifnull(`v`.`created_on`, ''), ':Created On:O:N:') as `created_on`,
    concat(ifnull(`v`.`modified_by`, ''), ':Modified By:O:N:') as `modified_by`,
    concat(ifnull(`v`.`modified_on`, ''), ':Modified On:O:N:') as `modified_on`,
    concat(ifnull(`v`.`deleted_by`, ''), ':Deleted By:O:N:') as `deleted_by`,
    concat(ifnull(`v`.`deleted_on`, ''), ':Deleted On:O:N:') as `deleted_on`,
    concat(ifnull(`v`.`company_id`, ''), ':Company Id:N:N:') as `company_id`,
    concat(ifnull(`v`.`company_branch_id`, ''), ':Company Branch Id:N:N:') as `company_branch_id`,
    concat(ifnull(`v`.`weaving_beam_issue_master_id`, ''), ':Weaving Beam Issue Master Id:O:N:') as `weaving_beam_issue_master_id`,
    concat(ifnull(`v`.`beam_issue_no`, ''), ':Beam Issue No:N:N:') as `field_name`,
    concat(ifnull(`v`.`weaving_beam_issue_master_id`, ''), ':Weaving Beam Issue Master Id:N:N:') as `field_id`
from
    `xt_weaving_beam_issue_master` `v`
limit 1;

CREATE TABLE `hm_official_journey_applications` (
  `company_id` int(11) NOT NULL DEFAULT 1 COMMENT '* Default from Sesssion  ',
  `company_branch_id` bigint(20) NOT NULL DEFAULT 1,
  `official_journey_transaction_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '* Auto Increamentd  ',
  `official_journey_no` varchar(255) NOT NULL COMMENT '* Apllication generated id on the basis of compy short name, fyear & L ',
  `official_journey_date` date DEFAULT NULL COMMENT '* Data picker bydefault todays date ',
  `financial_year` varchar(4) NOT NULL COMMENT '* Data entry combo box fill with amv_financial_year ',
  `employee_type` varchar(255) NOT NULL COMMENT '* Data entry combo box fill with cmv_employee_type ',
  `employee_id` bigint(20) NOT NULL,
  `employee_code` varchar(255) NOT NULL COMMENT '* set on change of employee combo',
  `punch_code` varchar(100) DEFAULT NULL,
  `department_id` bigint(20) NOT NULL,
  `journey_type_id` bigint(20) NOT NULL,
  `requested_from_date` date DEFAULT NULL COMMENT '* Data picker bydefault todays date ',
  `requested_to_date` date DEFAULT NULL COMMENT '* Data picker bydefault todays date ',
  `approved_from_date` date DEFAULT NULL COMMENT '* Data picker bydefault todays date ',
  `approved_to_date` date DEFAULT NULL COMMENT '* Data picker bydefault todays date ',
  `applied_days` decimal(18,4) DEFAULT 1.0000 COMMENT ' text box ',
  `sanction_days` decimal(18,4) DEFAULT 0.0000 COMMENT ' text box with data entry with decimal validation   ',
  `rejection_days` decimal(18,4) DEFAULT 0.0000 COMMENT ' text box with data entry with decimal validation  ',
  `work_handover_id` varchar(255) NOT NULL COMMENT '* Data entry combo box fill with cmv_employee_list',
  `approved_date` date DEFAULT NULL COMMENT '* Data picker bydefault todays date ',
  `applied_by_id` varchar(255) NOT NULL,
  `official_journey_status` varchar(255) NOT NULL,
  `official_journey_reason` text DEFAULT NULL,
  `official_journey_remark` text DEFAULT NULL COMMENT 'text box mendetory when reject /Cancled  ',
  `is_active` bit(1) DEFAULT b'1',
  `is_delete` bit(1) DEFAULT b'0',
  `created_by` varchar(255) DEFAULT '1',
  `created_on` datetime DEFAULT NULL,
  `modified_by` varchar(255) DEFAULT NULL,
  `modified_on` datetime DEFAULT NULL,
  `deleted_by` varchar(255) DEFAULT NULL,
  `deleted_on` datetime DEFAULT NULL,
  `approved_by_id` bigint(20) DEFAULT NULL,
  `reporting_to` bigint(20) NOT NULL,
  `sub_department_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`official_journey_transaction_id`)
) ENGINE=InnoDB AUTO_INCREMENT=221 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;


create or replace
algorithm = UNDEFINED view `hm_official_journey_applications_rpt` as
select
    concat(ifnull(`v`.`official_journey_no`, ''), ':Official Journey No:O:N:') as `official_journey_no`,
    concat(ifnull(`v`.`official_journey_date`, ''), ':Set No:O:N:') as `official_journey_date`,
    concat(ifnull(`v`.`employee_type`, ''), ':Employee Type:O:N:') as `employee_type`,
    concat(ifnull(`v`.`employee_code`, ''), ':Employee Code:O:N:') as `employee_code`,
    concat(ifnull(`v`.`punch_code`, ''), ':Punch Code:O:N:') as `punch_code`,
    concat(ifnull(`v`.`journey_type_id`, ''), ':Journey Type Id:O:N:') as `journey_type_id`,
    concat(ifnull(`v`.`requested_from_date`, ''), ':Requested Journey From Date:Y:D:') as `requested_from_date`,
    concat(ifnull(`v`.`requested_to_date`, ''), ':Requested Journey To Date:Y:D:') as `requested_to_date`,
    concat(ifnull(`v`.`approved_from_date`, ''), ':Approved Journey From Date:Y:D:') as `approved_from_date`,
    concat(ifnull(`v`.`approved_to_date`, ''), ':Approved Journey To Date:Y:D:') as `approved_to_date`,
    concat(ifnull(`v`.`applied_days`, ''), ':Applied Days:O:N:') as `applied_days`,
    concat(ifnull(`v`.`sanction_days`, ''), ':Sanction Days:O:N:') as `sanction_days`,
    concat(ifnull(`v`.`rejection_days`, ''), ':Rejection Days:O:N:') as `rejection_days`,
    concat(ifnull(`v`.`approved_date`, ''), ':Approved Journey From Date:Y:D:') as `approved_date`,
    concat(ifnull(`v`.`official_journey_status`, ''), ':Status:O:N:') as `official_journey_status`,
    concat(ifnull(`v`.`official_journey_reason`, ''), ':Journey Reason:O:N:') as `official_journey_reason`,
    concat(ifnull(`v`.`official_journey_remark`, ''), ':Remark:O:N:') as `official_journey_remark`,
    concat(ifnull(`v`.`financial_year`, ''), ':Finance Year:O:N:amv_financial_year:F') as `financial_year`,
    concat(case when `v`.`is_active` = 1 then 'Active' else 'In Active' end, ':Active Status:Y:H:(Active, In Active)') as `Active`,
    concat(case when `v`.`is_delete` = 1 then 'Yes' else 'No' end, ':Deleted Status:Y:H:(Yes, No)') as `Deleted`,
    concat(ifnull(`v`.`created_by`, ''), ':Created By:O:N:') as `created_by`,
    concat(ifnull(`v`.`created_on`, ''), ':Created On:O:N:') as `created_on`,
    concat(ifnull(`v`.`modified_by`, ''), ':Modified By:O:N:') as `modified_by`,
    concat(ifnull(`v`.`modified_on`, ''), ':Modified On:O:N:') as `modified_on`,
    concat(ifnull(`v`.`deleted_by`, ''), ':Deleted By:O:N:') as `deleted_by`,
    concat(ifnull(`v`.`deleted_on`, ''), ':Deleted On:O:N:') as `deleted_on`,
    concat(ifnull(`v`.`company_id`, ''), ':Company Id:N:N:') as `company_id`,
    concat(ifnull(`v`.`company_branch_id`, ''), ':Company Branch Id:N:N:') as `company_branch_id`,
    concat(ifnull(`v`.`official_journey_transaction_id`, ''), ':Official Journey Transaction Id:O:N:') as `official_journey_transaction_id`,
    concat(ifnull(`v`.`official_journey_no`, ''), ':Official Journey No:N:N:') as `field_name`,
    concat(ifnull(`v`.`official_journey_transaction_id`, ''), ':Official Journey Transaction Id:N:N:') as `field_id`
from
    `hm_official_journey_applications` `v`
limit 1;






